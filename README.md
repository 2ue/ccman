# ccman

> Claude Code & Codex API æœåŠ¡å•†é…ç½®ç®¡ç†å·¥å…·

ä¸€ä¸ªè½»é‡çº§çš„å‘½ä»¤è¡Œå·¥å…·å’Œæ¡Œé¢åº”ç”¨ï¼Œç”¨äºç®¡ç† **Claude Code** å’Œ **Codex** çš„ API æœåŠ¡å•†é…ç½®ï¼Œè½»æ¾åˆ‡æ¢ä¸åŒçš„ API æä¾›å•†ã€‚

## âœ¨ ç‰¹æ€§

- **ğŸ”§ ç»Ÿä¸€ç®¡ç†**: é›†ä¸­ç®¡ç†æ‰€æœ‰ API æœåŠ¡å•†é…ç½®
- **âš¡ å¿«é€Ÿåˆ‡æ¢**: ä¸€é”®åˆ‡æ¢ä¸åŒçš„æœåŠ¡å•†
- **ğŸ“¦ é›¶ç ´åæ€§**: åªä¿®æ”¹å¿…è¦å­—æ®µï¼Œä¿ç•™ç”¨æˆ·è‡ªå®šä¹‰é…ç½®
- **ğŸ¯ é¢„è®¾æ¨¡æ¿**: å†…ç½® Anthropic Official å’Œ PackyCode é¢„è®¾
- **ğŸ’» åŒç•Œé¢**: åŒæ—¶æä¾›å‘½ä»¤è¡Œå·¥å…·(CLI)å’Œæ¡Œé¢åº”ç”¨(Desktop)
- **ğŸ”’ å®‰å…¨éš”ç¦»**: æµ‹è¯•ã€å¼€å‘ã€ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨éš”ç¦»

## ğŸ“¦ å®‰è£…

### ä½¿ç”¨ CLI

```bash
# ä½¿ç”¨ npm
npm install -g @ccman/cli

# ä½¿ç”¨ pnpm
pnpm add -g @ccman/cli
```

### ä½¿ç”¨ Desktop åº”ç”¨

ä» [Releases](https://github.com/2ue/ccm/releases) ä¸‹è½½é€‚åˆæ‚¨æ“ä½œç³»ç»Ÿçš„å®‰è£…åŒ…ï¼š

- macOS: `.dmg` æ–‡ä»¶ï¼ˆUniversal Binaryï¼Œæ”¯æŒ Intel å’Œ Apple Siliconï¼‰
- Windows: `.exe` æ–‡ä»¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### CLI ä½¿ç”¨

ccman æä¾› `cx`ï¼ˆCodexï¼‰å’Œ `cc`ï¼ˆClaude Codeï¼‰ä¸¤ä¸ªå­å‘½ä»¤æ¥ç®¡ç†ä¸åŒå·¥å…·çš„æœåŠ¡å•†ã€‚

#### äº¤äº’å¼èœå•

```bash
# ç›´æ¥è¿è¡Œè¿›å…¥ä¸»èœå•
ccman

# æˆ–è€…è¿›å…¥ Codex ç®¡ç†èœå•
ccman cx

# æˆ–è€…è¿›å…¥ Claude Code ç®¡ç†èœå•
ccman cc
```

#### Codex å‘½ä»¤è¡Œæ“ä½œ

```bash
# æ·»åŠ æœåŠ¡å•†ï¼ˆäº¤äº’å¼ï¼‰
ccman cx add

# åˆ—å‡ºæ‰€æœ‰æœåŠ¡å•†
ccman cx list

# åˆ‡æ¢æœåŠ¡å•†ï¼ˆäº¤äº’å¼ï¼‰
ccman cx use

# æŸ¥çœ‹å½“å‰æœåŠ¡å•†
ccman cx current

# ç¼–è¾‘æœåŠ¡å•†ï¼ˆäº¤äº’å¼ï¼‰
ccman cx edit

# åˆ é™¤æœåŠ¡å•†ï¼ˆäº¤äº’å¼ï¼‰
ccman cx remove

# å…‹éš†æœåŠ¡å•†ï¼ˆäº¤äº’å¼ï¼‰
ccman cx clone
```

#### Claude Code å‘½ä»¤è¡Œæ“ä½œ

```bash
# æ·»åŠ æœåŠ¡å•†ï¼ˆäº¤äº’å¼ï¼‰
ccman cc add

# åˆ—å‡ºæ‰€æœ‰æœåŠ¡å•†
ccman cc list

# åˆ‡æ¢æœåŠ¡å•†ï¼ˆäº¤äº’å¼ï¼‰
ccman cc use

# æŸ¥çœ‹å½“å‰æœåŠ¡å•†
ccman cc current

# ç¼–è¾‘æœåŠ¡å•†ï¼ˆäº¤äº’å¼ï¼‰
ccman cc edit

# åˆ é™¤æœåŠ¡å•†ï¼ˆäº¤äº’å¼ï¼‰
ccman cc remove

# å…‹éš†æœåŠ¡å•†ï¼ˆäº¤äº’å¼ï¼‰
ccman cc clone
```

### Desktop åº”ç”¨ä½¿ç”¨

1. å¯åŠ¨åº”ç”¨
2. ç‚¹å‡»"Add Provider"æŒ‰é’®
3. é€‰æ‹©é¢„è®¾æ¨¡æ¿æˆ–è‡ªå®šä¹‰é…ç½®
4. ä¿å­˜åå³å¯åœ¨åˆ—è¡¨ä¸­åˆ‡æ¢

## ğŸ“š æ¶æ„

ccman é‡‡ç”¨ Monorepo æ¶æ„ï¼ŒåŒ…å« 3 ä¸ªæ¨¡å—ï¼š

```
ccman/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/       # æ ¸å¿ƒé€»è¾‘ï¼ˆé…ç½®è¯»å†™ã€æœåŠ¡å•† CRUDï¼‰
â”‚   â”œâ”€â”€ cli/        # å‘½ä»¤è¡Œå·¥å…·
â”‚   â””â”€â”€ desktop/    # Electron æ¡Œé¢åº”ç”¨
```

### æ ¸å¿ƒæ¨¡å— (@ccman/core)

- **é›¶ä¾èµ–å“²å­¦**: åªä¾èµ– 2 ä¸ªå¿…éœ€åº“ï¼ˆ`@iarna/toml`, `proper-lockfile`ï¼‰
- **åŒæ­¥ I/O**: ä½¿ç”¨åŒæ­¥æ–‡ä»¶æ“ä½œï¼Œé¿å…å¼‚æ­¥å¤æ‚æ€§
- **ç¯å¢ƒéš”ç¦»**: é€šè¿‡ `NODE_ENV` è‡ªåŠ¨åˆ‡æ¢æµ‹è¯•/å¼€å‘/ç”Ÿäº§è·¯å¾„
- **å•æ–‡ä»¶é…ç½®**: `~/.ccman/config.json` å­˜å‚¨æ‰€æœ‰é…ç½®

### CLI æ¨¡å— (@ccman/cli)

- **æ¡†æ¶**: Commander.js
- **äº¤äº’å¼ UI**: Inquirer.js
- **å½©è‰²è¾“å‡º**: Chalk
- **100% ä»£ç å¤ç”¨**: ç›´æ¥è°ƒç”¨ @ccman/coreï¼Œé›¶é‡å¤ä»£ç 

### Desktop æ¨¡å— (@ccman/desktop)

- **æ¡Œé¢æ¡†æ¶**: Electron ^28.0
- **UI æ¡†æ¶**: React ^18.2
- **æ ·å¼**: Tailwind CSS ^3.4
- **å›¾æ ‡**: Lucide React
- **æ„å»ºå·¥å…·**: Vite ^5.0
- **100% ä»£ç å¤ç”¨**: ä¸»è¿›ç¨‹ç›´æ¥è°ƒç”¨ @ccman/core

## ğŸ› ï¸ å¼€å‘

### å‰ç½®è¦æ±‚

- Node.js >= 18.20.8
- pnpm >= 9.0.0

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### æ„å»ºæ‰€æœ‰æ¨¡å—

```bash
pnpm build
```

### è¿è¡Œæµ‹è¯•

```bash
# æµ‹è¯• Core æ¨¡å—
cd packages/core && pnpm test

# æµ‹è¯•æ‰€æœ‰æ¨¡å—
pnpm -r test
```

### å¼€å‘ Desktop åº”ç”¨

```bash
cd packages/desktop
pnpm dev
```

### å¼€å‘ CLI

```bash
cd packages/cli
pnpm dev
```

## ğŸ“ è®¾è®¡åŸåˆ™

ccman éµå¾ªä»¥ä¸‹æ ¸å¿ƒè®¾è®¡åŸåˆ™ï¼š

1. **æœ€å°ä¾èµ–**: åªå¼•å…¥ç»å¯¹å¿…è¦çš„ä¾èµ–
2. **é›¶ç ´åæ€§å†™å…¥**: ä½¿ç”¨"è¯»å–-åˆå¹¶-å†™å…¥"æ¨¡å¼ï¼Œä¿ç•™ç”¨æˆ·å…¶ä»–å­—æ®µ
3. **åŒæ­¥ I/O**: é…ç½®è¯»å†™ä½¿ç”¨åŒæ­¥æ“ä½œï¼Œé¿å…å¼‚æ­¥å¤æ‚æ€§
4. **å•ä¸€èŒè´£**: æ¯ä¸ªæ¨¡å—åªåšä¸€ä»¶äº‹å¹¶åšå¥½
5. **100% ä»£ç å¤ç”¨**: CLI å’Œ Desktop ç›´æ¥è°ƒç”¨ Coreï¼Œé›¶é‡å¤ä»£ç 

è¯¦è§ `docs/` ç›®å½•ä¸‹çš„è®¾è®¡æ–‡æ¡£ã€‚

## ğŸ”’ å®‰å…¨æ€§

- **æ–‡ä»¶æƒé™**: é…ç½®æ–‡ä»¶æƒé™è®¾ä¸º `0o600`ï¼ˆä»…æ‰€æœ‰è€…å¯è¯»å†™ï¼‰
- **Electron å®‰å…¨**: å¯ç”¨ `contextIsolation`ï¼Œç¦ç”¨ `nodeIntegration`
- **API Key ä¿æŠ¤**: æ•æ„Ÿä¿¡æ¯åªå­˜å‚¨åœ¨æœ¬åœ°é…ç½®æ–‡ä»¶

## ğŸ§ª æµ‹è¯•è¦†ç›–

- Core æ¨¡å—: 11/11 æµ‹è¯•é€šè¿‡ âœ…
  - writers/codex.test.ts (5 tests)
  - writers/claudecode.test.ts (6 tests)

## ğŸš€ å‘å¸ƒä¸éƒ¨ç½²

æœ¬é¡¹ç›®ä½¿ç”¨ GitHub Actions è‡ªåŠ¨å‘å¸ƒï¼š

- **npm åŒ…å‘å¸ƒ**: æ¨é€ `v*` æ ¼å¼çš„ tag è‡ªåŠ¨å‘å¸ƒåˆ° npm
- **Desktop åº”ç”¨æ‰“åŒ…**: è‡ªåŠ¨æ„å»º macOS å’Œ Windows å®‰è£…åŒ…

è¯¦è§ [GitHub Actions ä½¿ç”¨æŒ‡å—](./docs/GitHub_Actions.md)

### å¿«é€Ÿå‘å¸ƒ

```bash
# æ›´æ–°ç‰ˆæœ¬å·
npm version 0.2.0

# åˆ›å»ºå¹¶æ¨é€ tag
git tag v0.2.0
git push origin v0.2.0

# GitHub Actions ä¼šè‡ªåŠ¨ï¼š
# âœ… å‘å¸ƒ npm åŒ…
# âœ… æ„å»º Desktop åº”ç”¨
# âœ… åˆ›å»º GitHub Release
```

## ğŸ“„ è®¸å¯è¯

MIT

## ğŸ™ è‡´è°¢

- [Anthropic Claude](https://www.anthropic.com/) - Claude Code å®˜æ–¹ API
- [PackyCode](https://www.packycode.com/) - Codex API æœåŠ¡æä¾›å•†

## ğŸ› é—®é¢˜åé¦ˆ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·åœ¨ [GitHub Issues](https://github.com/2ue/ccm/issues) æäº¤ã€‚
