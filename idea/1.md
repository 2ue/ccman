我
希望有几个基础核心实例（不一定是实例，这里只是方便描述）方法：

ccman实例：
注意这些内容是读写.ccman内的内容
读取ccman的配置文件，类似ccman.getConfig()
写入ccman的配置文件，类似ccman.setConfig(data)
这两个方法主要用于读写ccman工具本身的一些配置，比如同步信息等等
同步ccman配置，类似ccman.syncConfig()，同步哪些文件或数据，内部会调用webdav实例

读取指定cli的配置文件，比如服务商，比如mcp，类似ccman.getCliConfig（cli, type)
写入指定cli的配置文件，比如服务商，比如mcp，类似ccman.setCliConfig(cli, type, config)
上述两个方法也可以拆分，比如ccman.getServerConfig(),ccman.getMcpConfig()等等
上述两个方法主要用于存储不同cli工具的信息，可能对应的目录或者文件不一样，比如现在codex是.ccman/codex.json里面存了服务商，预置服务商，等信息，后续还会存mcp等信息
当然也可以思考是否有更好的方式



cli实例：
这个示例是封装的一个通用的cli工具方法，具有一些通用方法：
获取cli工具的配置文件路径，类似cli.getConfigPath
读取基本配置
写入基本配置
读取mcp服务配置
写入mcp服务配置
...

然后每个cli再来拓展自己的具体实现，这么看其实ccman实例和cli实例可以抽象成一个？

请先仔细分析这个项目，然后分析我提出的新的架构是否可行，对后期拓展性是否更好
请给出专业的建议和方案



| 特性         | Codex       | Claude            | Gemini CLI               |
  |------------|-------------|-------------------|--------------------------|
  | 配置目录       | ~/.codex/   | ~/.claude/        | ~/.gemini/               |
  | API Key 位置 | auth.json   | settings.json | .env 文件                  |
  | Base URL   | config.toml | settings.json | .env 文件        |
  | Model      | config.toml | settings.json   | .env 文件 或 settings.json |
  | MCP      | config.toml的mcp_servers配置 | ~/.claude.json                | 暂时未知，需要补充 |




Claude/Codex/Gemini 管理差异

  - Claude Code：配置位于 ~/.claude.json。claude_mcp.rs 先根据 ~/.cc-switch/settings.json 中的覆盖目录复制旧文件，再精确读写 mcpServers，并提供命令行校验（方便在 UI 中测试 command 是否在 PATH 中）。mcp/claude.rs 只
    把统一 server JSON 写进 mcpServers[id]，格式极简单，也方便从 CLI 反向导入（src-tauri/src/claude_mcp.rs:18-200, src-tauri/src/mcp/claude.rs:1-120）。
  - Codex CLI：live 形式是 config.toml，每个 server 以 [mcp_servers.<id>] 表示；mcp/codex.rs 在同步时会把 JSON 规范转换成 TOML 表（区分 stdio/http/sse 字段、headers/env 等），并清理错误路径 [mcp.servers]；导入逻辑
    支持新老两种区块，遇到字段冲突会记录 warning；所有写入都通过 codex_config.rs 原子写，避免 .toml 半写（src-tauri/src/mcp/codex.rs:11-418, src-tauri/src/codex_config.rs:13-116）。
  - Gemini CLI：MCP 条目存在 ~/.gemini/settings.json 的 mcpServers 中，HTTP 服务器写入 httpUrl，SSE 用 url，并且 CLI 不接受 type 字段。gemini_mcp.rs 在读时把 httpUrl 还原成统一 JSON 的 type: "http" + url，写时做反
    向转换并剥离 UI 辅助字段；删除/导入逻辑同样尊重这个映射，同时保留 settings 里其他安全字段（src-tauri/src/gemini_mcp.rs:1-125, src-tauri/src/mcp/gemini.rs:1-126）。