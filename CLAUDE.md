# ccman é¡¹ç›®å¼€å‘è§„èŒƒ

## é¡¹ç›®ç®€ä»‹

ccman æ˜¯ä¸€ä¸ª API æœåŠ¡å•†é…ç½®ç®¡ç†å·¥å…·ï¼Œç”¨äºç®¡ç† Codex å’Œ Claude Code çš„æœåŠ¡å•†é…ç½®ã€‚

**äº¤ä»˜å½¢å¼**ï¼š
- CLIï¼šå‘½ä»¤è¡Œå·¥å…·ï¼ˆå¿«é€Ÿåˆ‡æ¢ï¼Œå¯è„šæœ¬åŒ–ï¼‰
- Desktopï¼šElectron å›¾å½¢ç•Œé¢ï¼ˆå¯è§†åŒ–ç®¡ç†ï¼Œç›´è§‚ï¼‰

**ç›®æ ‡ç”¨æˆ·**ï¼šä½¿ç”¨ Codex/Claude Code çš„å¼€å‘è€…ã€‚

## æ ¸å¿ƒè®¾è®¡åŸåˆ™

### 1. ç®€æ´è‡³ä¸Šï¼ˆSimplicity Firstï¼‰

> "If you need more than 3 levels of indentation, you're screwed, and should fix your program." - Linus Torvalds

- **æ¯ä¸ªå‡½æ•°**ï¼šåªåšä¸€ä»¶äº‹ï¼Œä»£ç é‡ < 50 è¡Œ
- **æ¯ä¸ªæ–‡ä»¶**ï¼šå•ä¸€èŒè´£ï¼Œä»£ç é‡ < 300 è¡Œ
- **æ•´ä¸ªé¡¹ç›®**ï¼šPhase 1 æ€»ä»£ç é‡ç›®æ ‡ < 800 è¡Œï¼ˆå«æ³¨é‡Šï¼‰

### 2. æ•°æ®ç»“æ„ä¼˜å…ˆï¼ˆData Structures Firstï¼‰

> "Bad programmers worry about the code. Good programmers worry about data structures and their relationships." - Linus Torvalds

- å…ˆè®¾è®¡æ•°æ®ç»“æ„ï¼ˆ`types.ts`ï¼‰ï¼Œå†å®ç°é€»è¾‘
- æ•°æ®ç»“æ„æ­£ç¡®äº†ï¼Œä»£ç è‡ªç„¶ç®€æ´
- å‚è€ƒï¼š`docs/æŠ€æœ¯æ¶æ„.md` ä¸­çš„æ ¸å¿ƒæ•°æ®ç»“æ„

### 3. é›¶ç ´åæ€§ï¼ˆNever Break Userspaceï¼‰

- åªä¿®æ”¹æˆ‘ä»¬ç®¡ç†çš„é…ç½®å­—æ®µ
- ä¿ç•™ç”¨æˆ·çš„å…¶ä»–è‡ªå®šä¹‰é…ç½®
- å†™å…¥å‰å¤‡ä»½ï¼Œå¤±è´¥æ—¶å›æ»š
- å‚è€ƒï¼š`docs/æŠ€æœ¯æ¶æ„.md` ä¸­çš„ Writers æ¨¡å—å®ç°

### 4. å®ç”¨ä¸»ä¹‰ï¼ˆPragmatism Over Perfectionï¼‰

- è§£å†³å½“å‰é—®é¢˜ï¼Œä¸ä¸ºå‡æƒ³çš„æœªæ¥è¿‡åº¦è®¾è®¡
- å…ˆåš CLIï¼Œè¯æ˜éœ€æ±‚åå†åš GUI
- ç›´æ¥ç¡¬ç¼–ç  2 ä¸ªå‡½æ•°ï¼Œä¸ææŠ½è±¡å±‚
- YAGNIï¼ˆYou Aren't Gonna Need Itï¼‰åŸåˆ™

### 5. ç›´æ¥ç¡¬ç¼–ç ï¼ˆNo Premature Abstractionï¼‰

- åªæœ‰ 2 ä¸ªç›®æ ‡å·¥å…·ï¼ˆCodex å’Œ Claudeï¼‰ï¼Œç›´æ¥å†™ 2 ä¸ªå‡½æ•°
- ä¸éœ€è¦"æŠ½è±¡å†™å…¥å±‚"æˆ–"ç­–ç•¥æ¨¡å¼"
- å¦‚æœæœ‰ç¬¬ 3 ä¸ªå·¥å…·ï¼Œå†åŠ  1 ä¸ªå‡½æ•°ï¼ˆæˆæœ¬ä½ï¼‰
- å‚è€ƒï¼š`docs/éœ€æ±‚åˆ†æ.md` ä¸­çš„æ‰¹åˆ¤

## ESLint è§„åˆ™è¯´æ˜

é¡¹ç›®ä½¿ç”¨äº†ä»¥ä¸‹ ESLint è§„åˆ™ï¼Œå¹¶æ ¹æ®å®é™…éœ€è¦è¿›è¡Œäº†è°ƒæ•´ï¼š

### å·²ç¦ç”¨çš„è§„åˆ™åŠåŸå› 

è™½ç„¶é¡¹ç›®åˆæœŸè®¾å®šäº†ä¸¥æ ¼çš„ä»£ç é™åˆ¶ï¼ˆæ¯ä¸ªå‡½æ•° < 50 è¡Œï¼Œæ¯ä¸ªæ–‡ä»¶ < 300 è¡Œï¼‰ï¼Œä½†åœ¨å®è·µä¸­å‘ç°ä»¥ä¸‹è§„åˆ™ä¼šå¹²æ‰°åˆç†çš„ä»£ç ç»„ç»‡ï¼š

1. **`max-lines` å’Œ `max-lines-per-function`ï¼ˆå·²å…³é—­ï¼‰**
   - **åŸå› **ï¼šæŸäº›ç‰¹å®šæ–‡ä»¶å’Œå‡½æ•°æœ‰åˆç†çš„ç†ç”±è¶…å‡ºé™åˆ¶ï¼š
     - **å·¥å‚å‡½æ•°**ï¼šå¦‚ `createToolManager()` è¿”å›åŒ…å« 13 ä¸ªæ–¹æ³•çš„å¯¹è±¡ï¼Œ"é•¿åº¦"æ¥è‡ªè¿”å›å¤šä¸ªæ–¹æ³•è€Œéå¤æ‚é€»è¾‘
     - **æ•°æ®é©±åŠ¨**ï¼š`tool-manager.ts` è™½ç„¶è¶…è¿‡ 300 è¡Œï¼Œä½†æ¯ä¸ªæ–¹æ³•éƒ½ç®€å•æ¸…æ™°ï¼Œå·¥å‚å‡½æ•°ä¸åº”æ‹†åˆ†
   - **æ›¿ä»£æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `/* eslint-disable max-lines */` å’Œ `// eslint-disable-next-line max-lines-per-function` æ³¨é‡Šåœ¨ç‰¹å®šæ–‡ä»¶/å‡½æ•°çº§åˆ«ç¦ç”¨
   - **äººå·¥å®¡æŸ¥**ï¼šé€šè¿‡ Code Review ç¡®ä¿ä»£ç è´¨é‡ï¼Œè€Œä¸æ˜¯æœºæ¢°åœ°é™åˆ¶è¡Œæ•°

2. **`complexity`ï¼ˆå·²å…³é—­ï¼‰**
   - **åŸå› **ï¼šæŸäº›ä¸šåŠ¡é€»è¾‘çš„å¤æ‚åº¦ä¸å¯é¿å…ï¼š
     - **edit æ–¹æ³•**ï¼šéœ€è¦æ£€æŸ¥å­˜åœ¨æ€§ã€åç§°å†²çªã€æ›´æ–° 4+ ä¸ªå¯é€‰å­—æ®µã€åŒæ­¥é…ç½®ï¼Œæ¯ä¸ª if éƒ½ä¸å¯é¿å…
   - **æ›¿ä»£æ–¹æ¡ˆ**ï¼šåœ¨å¿…è¦æ—¶ä½¿ç”¨ `// eslint-disable-next-line complexity` æ³¨é‡Š
   - **åˆ¤æ–­æ ‡å‡†**ï¼šå¤æ‚åº¦æ¥è‡ªå¿…è¦çš„ä¸šåŠ¡é€»è¾‘ï¼ˆæ— ç‰¹æ®Šæƒ…å†µã€æ— åµŒå¥—é€»è¾‘ï¼‰æ—¶å¯ä»¥æ¥å—

3. **`@typescript-eslint/no-explicit-any`ï¼ˆå·²å…³é—­ï¼‰**
   - **åŸå› **ï¼šæŸäº›åŠ¨æ€åœºæ™¯ï¼ˆå¦‚é…ç½®åˆå¹¶ã€ç¬¬ä¸‰æ–¹åº“ç±»å‹ï¼‰ç¡®å®éœ€è¦ `any`
   - **è­¦å‘Š**ï¼šä»åº”å°½é‡é¿å…ä½¿ç”¨ `any`ï¼Œä¼˜å…ˆä½¿ç”¨ `unknown` æˆ–æ³›å‹

### æ ¸å¿ƒåŸåˆ™ä¸å˜

**è™½ç„¶å…³é—­äº†è¿™äº›è§„åˆ™ï¼Œä½†æ ¸å¿ƒè®¾è®¡åŸåˆ™ä»ç„¶æœ‰æ•ˆï¼š**

- âœ… **ä¿æŒç®€æ´**ï¼šæ¯ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹
- âœ… **é¿å…æ·±å±‚åµŒå¥—**ï¼š> 3 å±‚ç¼©è¿›ä»ç„¶æ˜¯ä»£ç è‡­å‘³
- âœ… **æ•°æ®ç»“æ„ä¼˜å…ˆ**ï¼šå¥½çš„æ•°æ®ç»“æ„è®©ä»£ç è‡ªç„¶ç®€æ´
- âœ… **äººå·¥å®¡æŸ¥**ï¼šCode Review æ˜¯æœ€ç»ˆçš„è´¨é‡å®ˆæŠ¤è€…

### ä½¿ç”¨è§„èŒƒ

åœ¨ç‰¹å®šæ–‡ä»¶æˆ–å‡½æ•°éœ€è¦çªç ´é™åˆ¶æ—¶ï¼Œå¿…é¡»ï¼š

1. **æ·»åŠ æ˜ç¡®çš„æ³¨é‡Š**è¯´æ˜ä¸ºä»€ä¹ˆéœ€è¦ç¦ç”¨è§„åˆ™
2. **åœ¨æœ€å°èŒƒå›´å†…ç¦ç”¨**ï¼ˆå‡½æ•°çº§ > æ–‡ä»¶çº§ > å…¨å±€çº§ï¼‰
3. **é€šè¿‡ Code Review ç¡®ä¿**ç¡®å®æœ‰åˆç†çš„ç†ç”±

**ç¤ºä¾‹**ï¼š

```typescript
/**
 * å·¥å‚å‡½æ•°è¿”å›åŒ…å« 13 ä¸ªæ–¹æ³•çš„å¯¹è±¡
 * æ³¨ï¼šå‡½æ•°"é•¿åº¦"æ¥è‡ªè¿”å›å¤šä¸ªæ–¹æ³•ï¼Œè€Œéå¤æ‚é€»è¾‘ï¼Œå› æ­¤ç¦ç”¨ max-lines æ£€æŸ¥
 */
// eslint-disable-next-line max-lines-per-function
function createToolManager(tool: ToolType): ToolManager {
  // ... è¿”å› 13 ä¸ªæ–¹æ³•çš„å¯¹è±¡
}
```

## æ˜ç¡®ç¦æ­¢çš„äº‹æƒ…

### âŒ ç¦æ­¢ 1ï¼šæŠ½è±¡å†™å…¥å±‚

**é”™è¯¯ç¤ºä¾‹**ï¼š
```typescript
// âŒ ä¸è¦è¿™æ ·åš
interface ConfigWriter {
  write(provider: Provider): void
}

class CodexWriter implements ConfigWriter { ... }
class ClaudeWriter implements ConfigWriter { ... }
```

**æ­£ç¡®åšæ³•**ï¼š
```typescript
// âœ… ç›´æ¥ç¡¬ç¼–ç 
export function writeCodexConfig(provider: Provider) { ... }
export function writeClaudeConfig(provider: Provider) { ... }
```

### âŒ ç¦æ­¢ 2ï¼šèƒ¶æ°´å±‚ï¼ˆå¦‚æœåš GUIï¼‰

**é”™è¯¯ç¤ºä¾‹**ï¼š
```typescript
// âŒ ä¸è¦ä¸ºäº†"å¯èƒ½è¿ç§» Tauri"æèƒ¶æ°´å±‚
interface PlatformAdapter {
  readFile(path: string): string
  writeFile(path: string, content: string): void
}
```

**æ­£ç¡®åšæ³•**ï¼š
```typescript
// âœ… Desktop ç›´æ¥ä¾èµ– coreï¼Œç›´æ¥ç”¨ Electron IPC
import { switchProvider } from '@ccman/core'

ipcMain.handle('switch-provider', async (event, id) => {
  switchProvider(id)
})
```

### âŒ ç¦æ­¢ 3ï¼šå¤æ‚çš„é…ç½®æ ¼å¼

- **ç¦æ­¢**ï¼šYAMLã€TOMLã€XML ç”¨äº ccman è‡ªèº«é…ç½®
- **å…è®¸**ï¼šåªç”¨ JSONï¼ˆé›¶ä¾èµ–ã€æ ‡å‡†åŒ–ï¼‰
- **ä¾‹å¤–**ï¼šTOML ä»…ç”¨äºè§£æ Codex é…ç½®ï¼ˆå¿…éœ€ï¼‰

### âŒ ç¦æ­¢ 4ï¼šè¿‡åº¦çš„é”™è¯¯å¤„ç†

**é”™è¯¯ç¤ºä¾‹**ï¼š
```typescript
// âŒ ä¸è¦ä¸ºæ¯ä¸ªå¯èƒ½çš„é”™è¯¯åˆ›å»ºç±»
class InvalidBaseUrlError extends Error { ... }
class InvalidApiKeyError extends Error { ... }
class InvalidProviderTypeError extends Error { ... }
```

**æ­£ç¡®åšæ³•**ï¼š
```typescript
// âœ… åªä¸ºå…³é”®é”™è¯¯åˆ›å»ºç±»ï¼Œå…¶ä»–ç”¨æ™®é€š Error
export class ConfigNotFoundError extends Error { ... }
export class ProviderNotFoundError extends Error { ... }

// å…¶ä»–é”™è¯¯ç›´æ¥ throw new Error('xxx')
if (!isValidUrl(baseUrl)) {
  throw new Error(`Invalid baseUrl: ${baseUrl}`)
}
```

### âŒ ç¦æ­¢ 5ï¼šä¸å¿…è¦çš„ä¾èµ–

**ç¦æ­¢å¼•å…¥**ï¼š
- lodashï¼ˆç”¨åŸç”Ÿ JSï¼‰
- axiosï¼ˆä¸éœ€è¦ HTTP è¯·æ±‚ï¼‰
- fs-extraï¼ˆå†…ç½® fs å¤Ÿç”¨ï¼‰
- moment/date-fnsï¼ˆåªéœ€è¦ `Date.now()`ï¼‰
- dotenvï¼ˆç›´æ¥è¯»å–é…ç½®æ–‡ä»¶ï¼‰
- react-icons / @mui/icons-material / heroicons ç­‰å…¶ä»–å›¾æ ‡åº“ï¼ˆç»Ÿä¸€ä½¿ç”¨ lucide-reactï¼‰

**å…è®¸çš„ä¾èµ–**ï¼šå‚è€ƒ `docs/æŠ€æœ¯é€‰å‹.md`

### âŒ ç¦æ­¢ 6ï¼šå¼‚æ­¥ I/Oï¼ˆé…ç½®æ–‡ä»¶è¯»å†™ï¼‰

**é”™è¯¯ç¤ºä¾‹**ï¼š
```typescript
// âŒ ä¸è¦ç”¨å¼‚æ­¥
export async function loadConfig(): Promise<Config> {
  const content = await fs.promises.readFile(configPath, 'utf-8')
  return JSON.parse(content)
}
```

**æ­£ç¡®åšæ³•**ï¼š
```typescript
// âœ… ç”¨åŒæ­¥ï¼ˆé…ç½®æ–‡ä»¶å°ï¼Œ< 1msï¼‰
export function loadConfig(): Config {
  const content = fs.readFileSync(configPath, 'utf-8')
  return JSON.parse(content)
}
```

**ç†ç”±**ï¼š
- é…ç½®æ–‡ä»¶ < 50KBï¼ŒåŒæ­¥è¯»å– < 1ms
- åŒæ­¥ä»£ç æ›´ç®€å•ï¼Œæ²¡æœ‰ Promise/async/await å¤æ‚æ€§
- CLI å·¥å…·ä¸éœ€è¦é«˜å¹¶å‘

### âŒ ç¦æ­¢ 7ï¼šå¤æ‚çš„çŠ¶æ€ç®¡ç†ï¼ˆå¦‚æœåš GUIï¼‰

**é”™è¯¯ç¤ºä¾‹**ï¼š
```typescript
// âŒ ä¸è¦å¼•å…¥ Zustand/Redux
import create from 'zustand'

const useStore = create((set) => ({ ... }))
```

**æ­£ç¡®åšæ³•**ï¼š
```typescript
// âœ… ç”¨ React stateï¼ˆåŠŸèƒ½ç®€å•ï¼Œå¤Ÿç”¨ï¼‰
const [providers, setProviders] = useState<Provider[]>([])
```

## ä»£ç è§„èŒƒ

### æ–‡ä»¶ç»„ç»‡

```
packages/core/src/
â”œâ”€â”€ types.ts          # æ‰€æœ‰ç±»å‹å®šä¹‰ï¼ˆå•ä¸€æ¥æºï¼‰
â”œâ”€â”€ config.ts         # é…ç½®æ–‡ä»¶è¯»å†™
â”œâ”€â”€ providers.ts      # æœåŠ¡å•† CRUD
â”œâ”€â”€ presets.ts        # é¢„è®¾æ¨¡æ¿ï¼ˆç¡¬ç¼–ç ï¼‰
â”œâ”€â”€ writers/
â”‚   â”œâ”€â”€ codex.ts     # ç¡¬ç¼–ç  Codex å†™å…¥é€»è¾‘
â”‚   â””â”€â”€ claude.ts    # ç¡¬ç¼–ç  Claude å†™å…¥é€»è¾‘
â””â”€â”€ utils/
    â”œâ”€â”€ file.ts      # æ–‡ä»¶æ“ä½œï¼ˆå¤‡ä»½ã€å›æ»šï¼‰
    â””â”€â”€ validator.ts # æ ¼å¼éªŒè¯ï¼ˆURLã€API Keyï¼‰
```

### å‘½åè§„èŒƒ

**æ–‡ä»¶å**ï¼š
- å°å†™ + ä¸­åˆ’çº¿ï¼š`config-manager.ts`ï¼ˆå¦‚æœéœ€è¦å¤šä¸ªå•è¯ï¼‰
- ä¼˜å…ˆå•ä¸ªå•è¯ï¼š`config.ts`ã€`providers.ts`

**å‡½æ•°å**ï¼š
- åŠ¨è¯å¼€å¤´ï¼š`loadConfig()`ã€`saveConfig()`ã€`addProvider()`
- å¸ƒå°”å‡½æ•°ï¼š`isValidUrl()`ã€`hasProvider()`

**ç±»å‹å**ï¼š
- PascalCaseï¼š`Provider`ã€`Config`ã€`ToolType`
- æ¥å£ä¸éœ€è¦ `I` å‰ç¼€ï¼ˆTypeScript æƒ¯ä¾‹ï¼‰

### æ³¨é‡Šè§„èŒƒ

**åªä¸ºå¤æ‚é€»è¾‘æ·»åŠ æ³¨é‡Š**ï¼š

```typescript
// âœ… å¥½æ³¨é‡Šï¼ˆè§£é‡Šä¸ºä»€ä¹ˆï¼‰
// ä½¿ç”¨ rename è€Œä¸æ˜¯ writeï¼Œä¿è¯åŸå­æ€§
fs.renameSync(tempPath, configPath)

// âŒ åæ³¨é‡Šï¼ˆé‡å¤ä»£ç ï¼‰
// è¯»å–é…ç½®æ–‡ä»¶
const config = loadConfig()
```

**ä¸éœ€è¦ JSDoc**ï¼ˆé™¤éå‘å¸ƒ npm åŒ…ï¼‰ï¼š
- TypeScript ç±»å‹å·²ç»æ˜¯æœ€å¥½çš„æ–‡æ¡£
- è¿‡åº¦çš„ JSDoc å¢åŠ ç»´æŠ¤æˆæœ¬

### é”™è¯¯å¤„ç†

**ä¸‰å±‚é”™è¯¯å¤„ç†**ï¼š

1. **Core å±‚**ï¼šæŠ›å‡ºç»“æ„åŒ–é”™è¯¯
   ```typescript
   export class ProviderNotFoundError extends Error {
     constructor(id: string) {
       super(`Provider not found: ${id}`)
       this.name = 'ProviderNotFoundError'
     }
   }
   ```

2. **CLI å±‚**ï¼šæ•è·é”™è¯¯ï¼Œå‹å¥½æç¤º
   ```typescript
   try {
     switchProvider(id)
     console.log(chalk.green('âœ… åˆ‡æ¢æˆåŠŸ'))
   } catch (error) {
     if (error instanceof ProviderNotFoundError) {
       console.error(chalk.red(`âŒ ${error.message}`))
       console.log(chalk.blue('ğŸ’¡ æŸ¥çœ‹æ‰€æœ‰æœåŠ¡å•†: ccman list'))
     } else {
       console.error(chalk.red(`âŒ ${error.message}`))
     }
     process.exit(1)
   }
   ```

3. **æ–‡ä»¶æ“ä½œ**ï¼šå¤‡ä»½ + å›æ»š
   ```typescript
   const backupPath = `${configPath}.bak`
   fs.copyFileSync(configPath, backupPath)

   try {
     fs.writeFileSync(tempPath, content)
     fs.renameSync(tempPath, configPath)
   } catch (error) {
     fs.copyFileSync(backupPath, configPath)
     throw error
   }
   ```

### æµ‹è¯•è§„èŒƒ

**æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡**ï¼š> 80%

#### ç¯å¢ƒä¿æŠ¤è§„åˆ™ï¼ˆé‡è¦ï¼ï¼‰

**ç¦æ­¢æ”¹åŠ¨ç”Ÿäº§ç¯å¢ƒ**ï¼š
- âŒ **ç»å¯¹ç¦æ­¢**åˆ é™¤æˆ–ä¿®æ”¹ `~/.ccman`ï¼ˆæ­£å¼ç¯å¢ƒé…ç½®ï¼‰
- âŒ **ç»å¯¹ç¦æ­¢**åˆ é™¤æˆ–ä¿®æ”¹ `~/.codex`ï¼ˆæ­£å¼ç¯å¢ƒé…ç½®ï¼‰
- âŒ **ç»å¯¹ç¦æ­¢**åˆ é™¤æˆ–ä¿®æ”¹ `~/.claude`ï¼ˆæ­£å¼ç¯å¢ƒé…ç½®ï¼‰
- âŒ **ç»å¯¹ç¦æ­¢**åœ¨æµ‹è¯•ä¸­ä½¿ç”¨ `rm -rf ~` å¼€å¤´çš„å‘½ä»¤

**ä½¿ç”¨å¼€å‘ç¯å¢ƒæµ‹è¯•**ï¼š
- âœ… CLI/Desktop æ‰‹åŠ¨æµ‹è¯•æ—¶ä½¿ç”¨ `NODE_ENV=development`
- âœ… å¼€å‘ç¯å¢ƒè·¯å¾„ï¼š`/var/folders/.../ccman-dev/.ccman`
- âœ… æµ‹è¯•å‰æ¸…ç†ï¼š`rm -rf /var/folders/.../ccman-dev/.ccman`
- âœ… è·å–å¼€å‘è·¯å¾„ï¼š
  ```typescript
  import { getCcmanDir } from '@ccman/core'
  // NODE_ENV=development æ—¶è‡ªåŠ¨è¿”å›å¼€å‘è·¯å¾„
  ```

**ä½¿ç”¨æµ‹è¯•ç¯å¢ƒï¼ˆè‡ªåŠ¨ï¼‰**ï¼š
- âœ… å•å…ƒæµ‹è¯•ï¼ˆVitestï¼‰è‡ªåŠ¨ä½¿ç”¨ç‹¬ç«‹çš„æµ‹è¯•ç›®å½•
- âœ… æ¯ä¸ªæµ‹è¯•è¿›ç¨‹æœ‰ç‹¬ç«‹çš„é…ç½®ç›®å½•ï¼ˆåŸºäº PIDï¼‰
- âœ… æµ‹è¯•è·¯å¾„ï¼š`/tmp/ccman-test-{PID}/.ccman`
- âœ… æµ‹è¯•ç»“æŸåè‡ªåŠ¨æ¸…ç†ï¼ˆå¯é€‰ï¼‰

**æµ‹è¯•å‰æ£€æŸ¥æ¸…å•**ï¼š
```bash
# âŒ é”™è¯¯ç¤ºä¾‹ - ä¼šç ´åç”Ÿäº§ç¯å¢ƒ
rm -rf ~/.ccman
pnpm dev list

# âœ… æ­£ç¡®ç¤ºä¾‹ - ä½¿ç”¨å¼€å‘ç¯å¢ƒ
rm -rf /var/folders/.../ccman-dev/.ccman
NODE_ENV=development pnpm dev list

# âœ… æ­£ç¡®ç¤ºä¾‹ - è¿è¡Œå•å…ƒæµ‹è¯•ï¼ˆè‡ªåŠ¨éš”ç¦»ï¼‰
pnpm test
```

#### å•å…ƒæµ‹è¯•è§„èŒƒ

**å¿…é¡»æµ‹è¯•**ï¼š
- Core æ¨¡å—æ‰€æœ‰å…¬å¼€å‡½æ•°
- è¾¹ç•Œæƒ…å†µï¼ˆé…ç½®æ–‡ä»¶ä¸å­˜åœ¨ã€æ ¼å¼é”™è¯¯ã€æƒé™é”™è¯¯ï¼‰

**ä¸éœ€è¦æµ‹è¯•**ï¼š
- CLI äº¤äº’å¼è¾“å…¥ï¼ˆæ‰‹åŠ¨æµ‹è¯•ï¼‰
- æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼ˆé›†æˆæµ‹è¯•ï¼‰

**ç¤ºä¾‹**ï¼š
```typescript
import { describe, it, expect, beforeEach } from 'vitest'
import { addProvider, getProvider } from './providers'

describe('providers', () => {
  beforeEach(() => {
    // é‡ç½®é…ç½®ï¼ˆè‡ªåŠ¨ä½¿ç”¨æµ‹è¯•ç¯å¢ƒï¼‰
  })

  it('should add provider with auto-generated id', () => {
    const provider = addProvider({
      name: 'Test',
      type: 'claude',
      baseUrl: 'https://api.test.com',
      apiKey: 'sk-ant-test',
    })

    expect(provider.id).toMatch(/^claude-\d+-[a-z0-9]+$/)
    expect(provider.createdAt).toBeGreaterThan(0)
  })
})
```

## å…³é”®æŠ€æœ¯çº¦æŸ

### 1. Node.js ç‰ˆæœ¬

- **æœ€ä½è¦æ±‚**ï¼šNode.js >= 18.0.0
- **ç†ç”±**ï¼šLTS ç‰ˆæœ¬ã€åŸç”Ÿ ESM æ”¯æŒ

### 2. é…ç½®æ–‡ä»¶è·¯å¾„

```typescript
// ä½¿ç”¨ os.homedir() è€Œä¸æ˜¯ç¡¬ç¼–ç 
import os from 'os'
import path from 'path'

const CCMAN_DIR = path.join(os.homedir(), '.ccman')
const CODEX_DIR = path.join(os.homedir(), '.codex')
const CLAUDE_DIR = path.join(os.homedir(), '.claude')
```

### 3. æ–‡ä»¶æƒé™

```typescript
// åˆå§‹åŒ–æ—¶è®¾ç½®æƒé™
fs.mkdirSync(configDir, { recursive: true, mode: 0o700 })
fs.writeFileSync(configPath, content, { mode: 0o600 })
```

### 4. åŸå­æ€§å†™å…¥

```typescript
// å†™å…¥ä¸´æ—¶æ–‡ä»¶ â†’ renameï¼ˆåŸå­æ“ä½œï¼‰
const tempPath = `${configPath}.tmp`
fs.writeFileSync(tempPath, content)
fs.renameSync(tempPath, configPath)
```

### 5. é›¶ç ´åæ€§å†™å…¥

**Codex é…ç½®**ï¼š
```typescript
// âœ… åªæ›´æ–°ç®¡ç†çš„å­—æ®µ
config.model_provider = provider.name
config.model_providers[provider.name] = { ... }

// âœ… ä¿ç•™å…¶ä»–å­—æ®µ
// - model_reasoning_effort
// - disable_response_storage
// - å…¶ä»–ç”¨æˆ·è‡ªå®šä¹‰é…ç½®
```

**Claude é…ç½®**ï¼š
```typescript
// âœ… åªæ›´æ–° env ä¸­çš„ä¸¤ä¸ªå­—æ®µ
settings.env.ANTHROPIC_AUTH_TOKEN = provider.apiKey
settings.env.ANTHROPIC_BASE_URL = provider.baseUrl

// âœ… ä¿ç•™å…¶ä»–å­—æ®µ
// - permissions
// - CLAUDE_CODE_MAX_OUTPUT_TOKENS
// - å…¶ä»–ç”¨æˆ·è‡ªå®šä¹‰é…ç½®
```

## å¼€å‘æµç¨‹

### å¹¶è¡Œå¼€å‘è®¡åˆ’ï¼ˆ6å‘¨ï¼‰

**Week 1ï¼šCore åŸºç¡€**
- [ ] åˆå§‹åŒ– Monorepoï¼ˆpnpm workspaceï¼‰
- [ ] å®ç° `types.ts`ï¼ˆæ•°æ®ç»“æ„å®šä¹‰ï¼‰
- [ ] å®ç° `config.ts`ï¼ˆé…ç½®è¯»å†™ï¼‰
- [ ] å®ç° `providers.ts`ï¼ˆåŸºç¡€ CRUDï¼‰
- [ ] å®ç° `writers/codex.ts`
- [ ] å®ç° `writers/claude.ts`
- [ ] å•å…ƒæµ‹è¯•
- **é‡Œç¨‹ç¢‘**ï¼šcore æ¨¡å—å¯ç‹¬ç«‹æµ‹è¯•

**Week 2ï¼šCore å®Œå–„ + CLI å¼€å§‹**
- [ ] å®Œå–„ coreï¼ˆ`utils/validator.ts`, `utils/file.ts`ï¼‰
- [ ] é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ
- [ ] CLI æ¡†æ¶æ­å»ºï¼ˆCommander.jsï¼‰
- [ ] å®ç° CLI åŸºæœ¬å‘½ä»¤ï¼ˆ`add`, `list`, `use`, `current`ï¼‰
- **é‡Œç¨‹ç¢‘**ï¼šCLI åŸºæœ¬å¯ç”¨ï¼Œå¯å‘å¸ƒ alpha ç‰ˆæœ¬

**Week 3ï¼šCLI å®Œå–„ + Desktop å¼€å§‹**
- [ ] CLI æ‰€æœ‰å‘½ä»¤ï¼ˆ`edit`, `remove`, `init`ï¼‰
- [ ] CLI æµ‹è¯•å’Œæ–‡æ¡£
- [ ] Desktop æ¡†æ¶æ­å»º
  - [ ] Electron çª—å£é…ç½®
  - [ ] IPC å¤„ç†å™¨ï¼ˆç›´æ¥è°ƒç”¨ coreï¼‰
  - [ ] Preload scriptï¼ˆå®‰å…¨æ¡¥æ¥ï¼‰
- [ ] Desktop åŸºæœ¬ç•Œé¢ï¼ˆåˆ—è¡¨æ˜¾ç¤ºï¼‰
- **é‡Œç¨‹ç¢‘**ï¼šCLI åŠŸèƒ½å®Œæ•´ï¼ŒDesktop èƒ½å¯åŠ¨

**Week 4-5ï¼šå¹¶è¡Œå®Œå–„**
- **CLI æ–¹å‘**ï¼š
  - [ ] ä¼˜åŒ–äº¤äº’ä½“éªŒ
  - [ ] å®Œå–„é”™è¯¯æç¤º
  - [ ] æ‰“åŒ…ï¼ˆnpmï¼‰
  - [ ] ç¼–å†™ç”¨æˆ·æ–‡æ¡£

- **Desktop æ–¹å‘**ï¼š
  - [ ] å®ç°æ‰€æœ‰ UI ç»„ä»¶
    - [ ] ProviderList
    - [ ] ProviderForm
    - [ ] CurrentStatus
    - [ ] Header
  - [ ] å®ç°æ‰€æœ‰äº¤äº’é€»è¾‘
  - [ ] æ ·å¼ç¾åŒ–
- **é‡Œç¨‹ç¢‘**ï¼šCLI å’Œ Desktop åŠŸèƒ½å®Œæ•´

**Week 6ï¼šé›†æˆæµ‹è¯•å’Œå‘å¸ƒ**
- [ ] é›†æˆæµ‹è¯•ï¼ˆCLI + Desktop å…±äº« coreï¼‰
- [ ] è·¨å¹³å°æµ‹è¯•ï¼ˆmacOS/Windows/Linuxï¼‰
- [ ] æ‰“åŒ…
  - [ ] CLI: npm publish
  - [ ] Desktop: dmg/exe/AppImage
- [ ] ç¼–å†™å‘å¸ƒè¯´æ˜
- **é‡Œç¨‹ç¢‘**ï¼šæ­£å¼å‘å¸ƒ v1.0.0

### æ¨¡å—å¼€å‘ä¼˜å…ˆçº§

**ä¼˜å…ˆçº§ P0ï¼ˆå¿…é¡»ï¼‰**ï¼š
1. Core æ¨¡å—ï¼ˆåŸºç¡€ï¼‰
2. CLI æ ¸å¿ƒå‘½ä»¤
3. Desktop ä¸»ç•Œé¢å’ŒåŸºæœ¬æ“ä½œ

**ä¼˜å…ˆçº§ P1ï¼ˆé‡è¦ï¼‰**ï¼š
1. CLI é«˜çº§å‘½ä»¤ï¼ˆedit, validateï¼‰
2. Desktop è®¾ç½®é¡µé¢
3. é”™è¯¯å¤„ç†å®Œå–„

**ä¼˜å…ˆçº§ P2ï¼ˆå¯é€‰ï¼‰**ï¼š
1. ç³»ç»Ÿæ‰˜ç›˜ï¼ˆDesktopï¼‰
2. è‡ªåŠ¨æ›´æ–°ï¼ˆDesktopï¼‰
3. é…ç½®å¯¼å…¥/å¯¼å‡º

### Desktop å¼€å‘è§„èŒƒ

#### Electron å®‰å…¨æœ€ä½³å®è·µ

**å¿…é¡»éµå®ˆ**ï¼š
```typescript
// âœ… ä¸»è¿›ç¨‹çª—å£é…ç½®
new BrowserWindow({
  webPreferences: {
    contextIsolation: true,       // å¿…é¡»ï¼šéš”ç¦»ä¸Šä¸‹æ–‡
    nodeIntegration: false,         // å¿…é¡»ï¼šç¦ç”¨ Node é›†æˆ
    preload: path.join(__dirname, 'preload.js'),
  }
})

// âœ… Preload script
contextBridge.exposeInMainWorld('electronAPI', {
  // åªæš´éœ²å¿…è¦çš„ APIï¼Œä¸æš´éœ²æ•´ä¸ª ipcRenderer
  switchProvider: (id: string) => ipcRenderer.invoke('switch-provider', id),
})
```

#### ä¸éœ€è¦çš„æŠ½è±¡å±‚

**âŒ é”™è¯¯**ï¼š
```typescript
// ä¸è¦æ API æŠ½è±¡å±‚
interface DesktopAPI {
  switchProvider(id: string): Promise<void>
}
class ElectronAPI implements DesktopAPI { ... }
```

**âœ… æ­£ç¡®**ï¼š
```typescript
// Desktop ä¸»è¿›ç¨‹ç›´æ¥è°ƒç”¨ core
import { switchProvider } from '@ccman/core'
ipcMain.handle('switch-provider', (e, id) => switchProvider(id))
```

#### React ç»„ä»¶è§„èŒƒ

- **çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨ React `useState`ï¼ˆä¸éœ€è¦ Redux/Zustandï¼‰
- **UI ç»„ä»¶**ï¼šè‡ªå·±å†™ï¼ˆä¸éœ€è¦ Ant Design/MUIï¼‰
- **æ ·å¼**ï¼šç®€å• CSS æˆ– Tailwindï¼ˆä¸éœ€è¦ CSS-in-JSï¼‰
- **è·¯ç”±**ï¼šä¸éœ€è¦ï¼ˆå•é¡µåº”ç”¨ï¼‰
- **å›¾æ ‡**ï¼šç»Ÿä¸€ä½¿ç”¨ `lucide-react`ï¼ˆé¡¹ç›®å·²å¼•å…¥ï¼Œä¸å¼•å…¥å…¶ä»–å›¾æ ‡åº“ï¼‰
  ```typescript
  // âœ… æ­£ç¡®ï¼šä½¿ç”¨ lucide-react
  import { Save, Upload, Download } from 'lucide-react'

  // âŒ é”™è¯¯ï¼šä¸è¦å¼•å…¥å…¶ä»–å›¾æ ‡åº“
  import { AiOutlineSave } from 'react-icons/ai'  // âŒ ç¦æ­¢
  import SaveIcon from '@mui/icons-material/Save'  // âŒ ç¦æ­¢
  ```

## æäº¤è§„èŒƒ

### Commit Message æ ¼å¼

```
<type>(<scope>): <subject>

<body>

<footer>
```

**Type**ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `refactor`: é‡æ„ï¼ˆä¸æ”¹å˜åŠŸèƒ½ï¼‰
- `docs`: æ–‡æ¡£æ›´æ–°
- `test`: æµ‹è¯•
- `chore`: æ„å»º/å·¥å…·

**ç¤ºä¾‹**ï¼š
```
feat(core): add provider management

- Add addProvider, getProvider, removeProvider functions
- Implement provider ID generation
- Add validation for baseUrl and apiKey

Closes #1
```

### æäº¤ç­–ç•¥

- **å°æ­¥æäº¤**ï¼šæ¯ä¸ªåŠŸèƒ½å®Œæˆåç«‹å³æäº¤
- **ä¸è¦ç´¯ç§¯**ï¼šä¸è¦ç­‰å¤šä¸ªåŠŸèƒ½å®Œæˆåä¸€èµ·æäº¤
- **æ¸…æ™°æè¿°**ï¼šè¯´æ˜åšäº†ä»€ä¹ˆã€ä¸ºä»€ä¹ˆåš

## å‘å¸ƒè§„èŒƒ

### ç‰ˆæœ¬å·

éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰ï¼š

- **Major (x.0.0)**ï¼šç ´åæ€§å˜æ›´ï¼ˆå¦‚é…ç½®æ–‡ä»¶æ ¼å¼å˜æ›´ï¼‰
- **Minor (0.x.0)**ï¼šæ–°åŠŸèƒ½ï¼ˆå¦‚æ·»åŠ æ–°å‘½ä»¤ï¼‰
- **Patch (0.0.x)**ï¼šBug ä¿®å¤

### ç‰ˆæœ¬å·ç®¡ç†

**ä½¿ç”¨è„šæœ¬ç»Ÿä¸€ä¿®æ”¹æ‰€æœ‰åŒ…ç‰ˆæœ¬å·**ï¼š

```bash
# æ–¹å¼ 1ï¼šç›´æ¥è¿è¡Œè„šæœ¬
node scripts/bump-version.js 3.0.4

# æ–¹å¼ 2ï¼šä½¿ç”¨ npm script
npm run version 3.0.4
```

**è„šæœ¬åŠŸèƒ½**ï¼š
- âœ… è‡ªåŠ¨ä¿®æ”¹æ‰€æœ‰åŒ…çš„ `package.json` ç‰ˆæœ¬å·
  - `package.json` (æ ¹ç›®å½•)
  - `packages/core/package.json`
  - `packages/cli/package.json`
  - `packages/desktop/package.json`
- âœ… éªŒè¯ç‰ˆæœ¬å·æ ¼å¼ï¼ˆ`x.y.z` æˆ– `x.y.z-alpha.1`ï¼‰
- âœ… æ˜¾ç¤ºä¿®æ”¹å‰åçš„ç‰ˆæœ¬å·å¯¹æ¯”
- âœ… æç¤ºä¸‹ä¸€æ­¥æ“ä½œ

**ç¦æ­¢æ‰‹åŠ¨ä¿®æ”¹ç‰ˆæœ¬å·**ï¼š
- âŒ ä¸è¦æ‰‹åŠ¨ä¿®æ”¹å•ä¸ª package.json
- âŒ ä¸è¦ä½¿ç”¨ `npm version` å‘½ä»¤ï¼ˆä¼šè§¦å‘ git æ“ä½œï¼‰
- âœ… ç»Ÿä¸€ä½¿ç”¨ `scripts/bump-version.js`

### å‘å¸ƒæµç¨‹

**âš ï¸ å‘å¸ƒå‰æ£€æŸ¥æ¸…å•ï¼ˆå¿…é¡»æ‰§è¡Œï¼‰**ï¼š

1. **ç‰ˆæœ¬å·ä¸€è‡´æ€§æ£€æŸ¥**ï¼š
   - âŒ **ç¦æ­¢**ï¼štag ç‰ˆæœ¬ä¸ package.json ç‰ˆæœ¬ä¸ä¸€è‡´
   - âœ… **å¿…é¡»**ï¼šæ‰€æœ‰åŒ…çš„ package.json ç‰ˆæœ¬å·å¿…é¡»ä¸€è‡´
   - âœ… **å¿…é¡»**ï¼štag åç§°ï¼ˆå¦‚ v3.0.4ï¼‰ä¸ package.json ç‰ˆæœ¬å·ï¼ˆ3.0.4ï¼‰ä¸€è‡´
   - æ£€æŸ¥å‘½ä»¤ï¼š
     ```bash
     # ç¡®ä¿æ‰€æœ‰ package.json ç‰ˆæœ¬å·ç›¸åŒ
     grep -h '"version":' package.json packages/*/package.json
     ```

2. **ä¸šåŠ¡é€»è¾‘ä¿®æ”¹æ£€æŸ¥**ï¼š
   - âœ… **å¿…é¡»**ï¼šåªæœ‰ä¸šåŠ¡é€»è¾‘ä¿®æ”¹æ‰æ‰“ tag å‘å¸ƒ
   - âŒ **ç¦æ­¢**ï¼šçº¯æ–‡æ¡£ä¿®æ”¹ï¼ˆREADME.mdã€docs/ï¼‰æ‰“ tag
   - âŒ **ç¦æ­¢**ï¼šçº¯é…ç½®ä¿®æ”¹ï¼ˆ.eslintrcã€tsconfig.jsonï¼‰æ‰“ tag
   - âŒ **ç¦æ­¢**ï¼šçº¯ä¾èµ–æ›´æ–°ï¼ˆpackage-lock.jsonï¼‰æ‰“ tag
   - **ä¸šåŠ¡é€»è¾‘ä¿®æ”¹**å®šä¹‰ï¼š
     - ä¿®æ”¹ `packages/*/src/**/*.ts` ä»£ç æ–‡ä»¶
     - æ–°å¢æˆ–ä¿®æ”¹åŠŸèƒ½ã€ä¿®å¤ Bug
     - å½±å“ç”¨æˆ·ä½¿ç”¨çš„æ”¹åŠ¨

3. **è¿œç¨‹ tag æ£€æŸ¥**ï¼š
   - âœ… **å¿…é¡»**ï¼šç¡®è®¤è¿œç¨‹ä¸å­˜åœ¨åŒå tag
   - æ£€æŸ¥å‘½ä»¤ï¼š
     ```bash
     git fetch --tags
     git tag -l | grep v3.0.4  # å¦‚æœæœ‰è¾“å‡ºè¯´æ˜ tag å·²å­˜åœ¨
     ```

**å‘å¸ƒæ­¥éª¤**ï¼š

1. **æ›´æ–° CHANGELOG.md**ï¼ˆå¯é€‰ï¼‰
2. **ä¿®æ”¹ç‰ˆæœ¬å·**ï¼š
   ```bash
   npm run version 3.0.4
   ```
3. **è¿è¡Œæµ‹è¯•**ï¼š
   ```bash
   pnpm test
   ```
4. **æ„å»º**ï¼š
   ```bash
   pnpm build
   ```
5. **æ‰§è¡Œå‘å¸ƒå‰æ£€æŸ¥**ï¼š
   ```bash
   # æ£€æŸ¥ 1ï¼šç‰ˆæœ¬å·ä¸€è‡´æ€§
   grep -h '"version":' package.json packages/*/package.json

   # æ£€æŸ¥ 2ï¼šç¡®è®¤æœ‰ä¸šåŠ¡é€»è¾‘ä¿®æ”¹
   git diff --name-only HEAD~1 | grep -E '\.(ts|tsx|js|jsx)$' | grep -v -E '(test|spec|\.d\.ts)'

   # æ£€æŸ¥ 3ï¼šç¡®è®¤ tag ä¸å­˜åœ¨
   git fetch --tags && git tag -l | grep v3.0.4
   ```
6. **æäº¤å¹¶æ‰“ tag**ï¼š
   ```bash
   git add .
   git commit -m "chore: bump version to 3.0.4"
   git tag v3.0.4
   git push && git push --tags
   ```
7. **è‡ªåŠ¨å‘å¸ƒ**ï¼šGitHub Actions ä¼šè‡ªåŠ¨ï¼š
   - å‘å¸ƒ CLI åˆ° npm
   - æ„å»ºå¹¶å‘å¸ƒ Desktop åº”ç”¨ï¼ˆmacOS/Windowsï¼‰
   - åˆ›å»º GitHub Release

**å‘å¸ƒå¤±è´¥å¤„ç†**ï¼š

å¦‚æœå‘ç° tag å·²å­˜åœ¨ï¼š
```bash
# âŒ ä¸è¦åˆ é™¤è¿œç¨‹ tagï¼
# âœ… æ­£ç¡®åšæ³•ï¼šå¢åŠ ç‰ˆæœ¬å·
npm run version 3.0.5  # å¢åŠ ç‰ˆæœ¬å·
git add .
git commit -m "chore: bump version to 3.0.5"
git tag v3.0.5
git push && git push --tags
```

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆä¸ç”¨æŠ½è±¡å†™å…¥å±‚ï¼Ÿ

**A**: åªæœ‰ 2 ä¸ªç›®æ ‡å·¥å…·ï¼ŒæŠ½è±¡å±‚ä¼šå¢åŠ  50% å¤æ‚åº¦ï¼Œæ”¶ç›Šä½ã€‚ç›´æ¥ç¡¬ç¼–ç  2 ä¸ªå‡½æ•°æ›´ç®€å•ã€‚å‚è€ƒ `docs/éœ€æ±‚åˆ†æ.md`ã€‚

### Q: ä¸ºä»€ä¹ˆé…ç½®æ–‡ä»¶ç”¨ JSON è€Œä¸æ˜¯ YAMLï¼Ÿ

**A**: JSON é›¶ä¾èµ–ã€æ ‡å‡†åŒ–ã€å¯ç¼–ç¨‹ã€‚YAML ç¼©è¿›åœ°ç‹±ã€éœ€è¦ä¾èµ–åº“ã€‚å‚è€ƒ `docs/æŠ€æœ¯é€‰å‹.md`ã€‚

### Q: ä¸ºä»€ä¹ˆä¸ç«‹å³åš GUIï¼Ÿ

**A**: å…ˆéªŒè¯éœ€æ±‚ã€‚CLI å¼€å‘å‘¨æœŸ 2 å‘¨ï¼ŒElectron å¼€å‘å‘¨æœŸ 4-6 å‘¨ã€‚å…ˆåš CLI è¯æ˜ä»·å€¼ã€‚å‚è€ƒ `docs/éœ€æ±‚åˆ†æ.md`ã€‚

### Q: å¦‚æœè¦æ”¯æŒç¬¬ 3 ä¸ªå·¥å…·ï¼ˆå¦‚ Cursorï¼‰æ€ä¹ˆåŠï¼Ÿ

**A**:
1. åœ¨ `writers/` æ·»åŠ  `cursor.ts`
2. å®ç° `writeCursorConfig()`
3. åœ¨ `switchProvider()` æ·»åŠ åˆ†æ”¯
4. æˆæœ¬ï¼š~50 è¡Œä»£ç ï¼Œä¸éœ€è¦é‡æ„

### Q: ä¸ºä»€ä¹ˆç”¨åŒæ­¥ I/Oï¼Ÿ

**A**: é…ç½®æ–‡ä»¶å°ï¼ˆ< 50KBï¼‰ï¼ŒåŒæ­¥è¯»å– < 1msã€‚åŒæ­¥ä»£ç æ›´ç®€å•ï¼Œæ²¡æœ‰ Promise/async/await å¤æ‚æ€§ã€‚CLI å·¥å…·ä¸éœ€è¦é«˜å¹¶å‘ã€‚

## å¼€å‘å¿ å®æ€§è§„åˆ™

### ğŸ”’ å¼ºåˆ¶è§„åˆ™ï¼šé˜²æ­¢éœ€æ±‚åç§»

**å½“ä¼šè¯è¶…é•¿è¢«å‹ç¼©æˆ–æ–°ä¼šè¯å¼€å§‹æ—¶ï¼Œå¿…é¡»æ‰§è¡Œä»¥ä¸‹æ£€æŸ¥æµç¨‹ï¼š**

#### 1. å¼€å‘å‰å¼ºåˆ¶é˜…è¯»ï¼ˆMUST READï¼‰

```bash
# æ¯æ¬¡å¼€å§‹å¼€å‘å‰ï¼Œå¿…é¡»å…ˆé˜…è¯»è¿™äº›æ–‡æ¡£
1. docs/éœ€æ±‚åˆ†æ.md      # ç†è§£æ ¸å¿ƒé—®é¢˜å’Œè®¾è®¡å†³ç­–
2. docs/åŠŸèƒ½æ¸…å•.md      # ç¡®è®¤åŠŸèƒ½èŒƒå›´å’Œç¦æ­¢é¡¹
3. docs/æŠ€æœ¯é€‰å‹.md      # ç¡®è®¤æŠ€æœ¯æ ˆå’Œæ‹’ç»é¡¹
4. docs/æŠ€æœ¯æ¶æ„.md      # ç†è§£æ¨¡å—è®¾è®¡å’Œæ•°æ®æµ
5. CLAUDE.md            # æœ¬æ–‡ä»¶ï¼Œå¼€å‘è§„èŒƒ
```

**å¼ºåˆ¶æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ˜¯å¦é˜…è¯»äº†æ‰€æœ‰ 4 ä¸ªæ–‡æ¡£ï¼Ÿ
- [ ] æ˜¯å¦ç†è§£äº†"æ‹’ç»çš„éœ€æ±‚"å’ŒåŸå› ï¼Ÿ
- [ ] æ˜¯å¦ç¡®è®¤äº†å½“å‰ä»»åŠ¡åœ¨åŠŸèƒ½æ¸…å•ä¸­ï¼Ÿ
- [ ] æ˜¯å¦éµå®ˆæŠ€æœ¯é€‰å‹ä¸­çš„"ç¦æ­¢é¡¹"ï¼Ÿ

#### 2. å¼€å‘å†³ç­–éªŒè¯æµç¨‹

**æ¯å½“è¦åšæŠ€æœ¯å†³ç­–æ—¶ï¼ŒæŒ‰æ­¤æµç¨‹éªŒè¯ï¼š**

```
é—®é¢˜ï¼šæˆ‘éœ€è¦ä½¿ç”¨ XXX åº“/æ¨¡å¼/æ¶æ„

Step 1: æ£€æŸ¥ docs/æŠ€æœ¯é€‰å‹.md ä¸­çš„"ä¸é€‰æ‹©çš„æŠ€æœ¯"
â””â”€> å¦‚æœåœ¨æ‹’ç»åˆ—è¡¨ä¸­ â†’ âŒ åœæ­¢ï¼Œä½¿ç”¨æ–‡æ¡£ä¸­çš„æ­£ç¡®æ–¹æ¡ˆ

Step 2: æ£€æŸ¥ docs/éœ€æ±‚åˆ†æ.md ä¸­çš„"è¿‡åº¦è®¾è®¡çš„éœ€æ±‚"
â””â”€> å¦‚æœå±äºè¢«æ‰¹åˆ¤çš„è®¾è®¡ â†’ âŒ åœæ­¢ï¼Œé‡æ–°æ€è€ƒ

Step 3: é—®è‡ªå·± Linus çš„ä¸‰ä¸ªé—®é¢˜
â”œâ”€> è¿™æ˜¯çœŸé—®é¢˜è¿˜æ˜¯è‡†æƒ³å‡ºæ¥çš„ï¼Ÿ
â”œâ”€> æœ‰æ›´ç®€å•çš„æ–¹æ³•å—ï¼Ÿ
â””â”€> ä¼šç ´åä»€ä¹ˆå—ï¼Ÿ

Step 4: æ£€æŸ¥ä¾èµ–å¿…è¦æ€§
â””â”€> èƒ½ç”¨åŸç”Ÿ API å®ç°å—ï¼Ÿ
    â””â”€> èƒ½ â†’ âŒ ä¸å¼•å…¥ä¾èµ–
    â””â”€> ä¸èƒ½ â†’ ç»§ç»­ Step 5

Step 5: æ£€æŸ¥ä»£ç å¤æ‚åº¦
â””â”€> è¿™ä¸ªæ–¹æ¡ˆå¢åŠ äº†å¤šå°‘ä»£ç ï¼Ÿ
    â””â”€> > 50 è¡Œ â†’ é‡æ–°è®¾è®¡
    â””â”€> < 50 è¡Œ â†’ âœ… å¯ä»¥ç»§ç»­
```

#### 3. ç¦æ­¢é¡¹å¿«é€Ÿæ£€æŸ¥è¡¨

**åœ¨å†™ä»»ä½•ä»£ç å‰ï¼Œæ£€æŸ¥æ˜¯å¦è¿åä»¥ä¸‹ç¦æ­¢é¡¹ï¼š**

| ç¦æ­¢é¡¹ | è¯´æ˜ | æ–‡æ¡£ä½ç½® |
|--------|------|----------|
| âŒ fs-extra | çœ 1 è¡Œä»£ç ï¼Œå¼•å…¥ 4 ä¸ªä¾èµ– | `docs/æŠ€æœ¯é€‰å‹.md:126-160` |
| âŒ dotenv | NODE_ENV é›¶ä¾èµ–é›¶é…ç½® | `docs/æŠ€æœ¯é€‰å‹.md:192-264` |
| âŒ é…ç½®æ–‡ä»¶åˆ†ç¦» | æ€§èƒ½æ…¢ 17 å€ï¼Œå¤æ‚åº¦ +3 å€ | `docs/æŠ€æœ¯é€‰å‹.md:315-380` |
| âŒ æŠ½è±¡å†™å…¥å±‚ | åªæœ‰ 2 ä¸ªå·¥å…·ï¼ŒYAGNI | `docs/éœ€æ±‚åˆ†æ.md:40-55` |
| âŒ Electron èƒ¶æ°´å±‚ | UI ç®€å•ï¼ŒæŠ½è±¡å±‚å æ¯” 40% | `docs/éœ€æ±‚åˆ†æ.md:56-71` |
| âŒ validate/backup/restore å‘½ä»¤ | æ— å®é™…ä»·å€¼ | `docs/åŠŸèƒ½æ¸…å•.md:44-54` |
| âŒ é¢„è®¾ç®¡ç†ä»… UI æ”¯æŒ | è¿ååŠŸèƒ½å¯¹ç­‰åŸåˆ™ | `docs/éœ€æ±‚åˆ†æ.md:84-100` |
| âŒ å¼‚æ­¥ I/Oï¼ˆé…ç½®è¯»å†™ï¼‰ | é…ç½®å°ï¼ŒåŒæ­¥æ›´ç®€å• | `CLAUDE.md:136-160` |
| âŒ Zustand/Redux | React state å¤Ÿç”¨ | `CLAUDE.md:161-176` |
| âŒ æ‰‹åŠ¨ä¿®æ”¹ç‰ˆæœ¬å· | å¿…é¡»ä½¿ç”¨ `scripts/bump-version.js` | `CLAUDE.md:577-602` |
| âŒ å…¶ä»–å›¾æ ‡åº“ | ç»Ÿä¸€ä½¿ç”¨ lucide-react | `CLAUDE.md:527-535` |

#### 4. åŠŸèƒ½å¼€å‘éªŒè¯æ¸…å•

**å¼€å‘ä»»ä½•åŠŸèƒ½å‰ï¼Œç¡®è®¤ï¼š**

```typescript
// âœ… åœ¨å¼€å§‹ç¼–ç å‰ï¼Œå›ç­”è¿™äº›é—®é¢˜ï¼š

1. è¿™ä¸ªåŠŸèƒ½åœ¨ docs/åŠŸèƒ½æ¸…å•.md ä¸­å—ï¼Ÿ
   â””â”€> å¦ â†’ âŒ åœæ­¢ï¼Œå¯èƒ½æ˜¯éœ€æ±‚åç§»

2. è¿™ä¸ªåŠŸèƒ½æ˜¯å¦åœ¨"ä¸éœ€è¦çš„åŠŸèƒ½"åˆ—è¡¨ä¸­ï¼Ÿ
   â””â”€> æ˜¯ â†’ âŒ åœæ­¢ï¼Œå·²è¢«æ˜ç¡®æ‹’ç»

3. å®ç°æ–¹å¼æ˜¯å¦ç¬¦åˆ docs/æŠ€æœ¯æ¶æ„.mdï¼Ÿ
   â””â”€> å¦ â†’ âŒ åœæ­¢ï¼Œé‡æ–°ç†è§£æ¶æ„

4. ä½¿ç”¨çš„åº“æ˜¯å¦åœ¨ docs/æŠ€æœ¯é€‰å‹.md çš„å…è®¸åˆ—è¡¨ä¸­ï¼Ÿ
   â””â”€> å¦ â†’ âŒ åœæ­¢ï¼Œæ£€æŸ¥æ˜¯å¦åœ¨æ‹’ç»åˆ—è¡¨

5. ä»£ç æ˜¯å¦ < 50 è¡Œ/å‡½æ•°ï¼Œ< 300 è¡Œ/æ–‡ä»¶ï¼Ÿ
   â””â”€> å¦ â†’ âŒ åœæ­¢ï¼Œé‡æ–°è®¾è®¡

6. æ˜¯å¦å¼•å…¥äº†æ–°çš„ä¾èµ–ï¼Ÿ
   â””â”€> æ˜¯ â†’ å¿…é¡»åœ¨ docs/æŠ€æœ¯é€‰å‹.md ä¸­æ‰¾åˆ°æ˜ç¡®å…è®¸
```

#### 5. å‹ç¼©ä¼šè¯æ¢å¤åè®®

**å½“ä¼šè¯è¢«å‹ç¼©æˆ–å¼€å§‹æ–°ä¼šè¯æ—¶ï¼Œå¿…é¡»æ‰§è¡Œï¼š**

```bash
# ç¬¬ä¸€æ­¥ï¼šé‡æ–°å»ºç«‹ä¸Šä¸‹æ–‡
1. é˜…è¯» docs/éœ€æ±‚åˆ†æ.md - ç†è§£"æ‹’ç»çš„éœ€æ±‚"
2. é˜…è¯» docs/åŠŸèƒ½æ¸…å•.md - ç¡®è®¤åŠŸèƒ½è¾¹ç•Œ
3. é˜…è¯» docs/æŠ€æœ¯é€‰å‹.md - ç¡®è®¤æŠ€æœ¯çº¦æŸ
4. é˜…è¯» docs/æŠ€æœ¯æ¶æ„.md - ç†è§£æ¨¡å—è®¾è®¡

# ç¬¬äºŒæ­¥ï¼šæ£€æŸ¥å½“å‰ä»»åŠ¡
5. å½“å‰ä»»åŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ
6. è¿™ä¸ªä»»åŠ¡åœ¨åŠŸèƒ½æ¸…å•ä¸­å—ï¼Ÿ
7. å®ç°æ–¹å¼ç¬¦åˆæŠ€æœ¯æ¶æ„å—ï¼Ÿ

# ç¬¬ä¸‰æ­¥ï¼šéªŒè¯å†³ç­–
8. å¦‚æœè¦å¼•å…¥æ–°ä¾èµ– â†’ æ£€æŸ¥æŠ€æœ¯é€‰å‹æ–‡æ¡£
9. å¦‚æœè¦æ·»åŠ æ–°åŠŸèƒ½ â†’ æ£€æŸ¥åŠŸèƒ½æ¸…å•æ–‡æ¡£
10. å¦‚æœè¦ä¿®æ”¹æ¶æ„ â†’ å¿…é¡»å…ˆæ›´æ–°æ¶æ„æ–‡æ¡£

# ç¬¬å››æ­¥ï¼šè¾“å‡ºç¡®è®¤
å‘ç”¨æˆ·ç¡®è®¤ï¼š
"æˆ‘å·²é˜…è¯»æ‰€æœ‰è®¾è®¡æ–‡æ¡£ï¼Œå½“å‰ä»»åŠ¡æ˜¯ [XXX]ï¼Œ
å®ç°æ–¹å¼éµå¾ª [æ–‡æ¡£ç« èŠ‚]ï¼Œä¸è¿åä»»ä½•ç¦æ­¢é¡¹ã€‚"
```

#### 6. ä»£ç å®¡æŸ¥è‡ªæ£€è¡¨

**å†™å®Œä»£ç åï¼Œå¿…é¡»è‡ªæˆ‘å®¡æŸ¥ï¼š**

```typescript
// âœ… ä»£ç æäº¤å‰çš„è‡ªæ£€æ¸…å•

â–¡ æ˜¯å¦å¼•å…¥äº†è¢«æ‹’ç»çš„ä¾èµ–ï¼Ÿ
  â””â”€> æ£€æŸ¥ docs/æŠ€æœ¯é€‰å‹.md çš„"ä¸é€‰æ‹©çš„æŠ€æœ¯"

â–¡ æ˜¯å¦å®ç°äº†è¢«æ‹’ç»çš„åŠŸèƒ½ï¼Ÿ
  â””â”€> æ£€æŸ¥ docs/åŠŸèƒ½æ¸…å•.md çš„"ä¸éœ€è¦çš„åŠŸèƒ½"

â–¡ æ˜¯å¦ä½¿ç”¨äº†è¢«æ‹’ç»çš„æ¶æ„æ¨¡å¼ï¼Ÿ
  â””â”€> æ£€æŸ¥ docs/éœ€æ±‚åˆ†æ.md çš„"è¿‡åº¦è®¾è®¡çš„éœ€æ±‚"

â–¡ å‡½æ•°æ˜¯å¦ > 50 è¡Œï¼Ÿæ–‡ä»¶æ˜¯å¦ > 300 è¡Œï¼Ÿ
  â””â”€> æ˜¯ â†’ é‡æ„

â–¡ æ˜¯å¦æœ‰è¶…è¿‡ 3 å±‚çš„ç¼©è¿›ï¼Ÿ
  â””â”€> æ˜¯ â†’ é‡æ–°è®¾è®¡

â–¡ æ˜¯å¦ç ´åäº†ç”¨æˆ·ç°æœ‰é…ç½®ï¼Ÿ
  â””â”€> æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†"è¯»å–-åˆå¹¶-å†™å…¥"æ¨¡å¼

â–¡ æ˜¯å¦æ‰€æœ‰è·¯å¾„éƒ½æ˜¯è·¨å¹³å°çš„ï¼Ÿ
  â””â”€> æ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº† path.join() è€Œä¸æ˜¯ç¡¬ç¼–ç  /
```

#### 7. ç´§æ€¥åœæ­¢ä¿¡å·

**å¦‚æœå‘ç°ä»¥ä¸‹æƒ…å†µï¼Œç«‹å³åœæ­¢å¹¶é‡è¯»æ–‡æ¡£ï¼š**

- æ­£åœ¨å†™ `interface XXXAdapter`
- æ­£åœ¨å†™ `abstract class XXXWriter`
- æ­£åœ¨å®‰è£… fs-extra/dotenv/lodash
- æ­£åœ¨å®ç° backup/restore/validate å‘½ä»¤
- æ­£åœ¨åˆ†ç¦»é…ç½®æ–‡ä»¶åˆ°å¤šä¸ªæ–‡ä»¶
- æ­£åœ¨ä½¿ç”¨å¼‚æ­¥ I/O è¯»å†™é…ç½®
- æ­£åœ¨å¼•å…¥ Redux/Zustand
- æ­£åœ¨ä½¿ç”¨ UI ç»„ä»¶åº“
- æ­£åœ¨å¼•å…¥å…¶ä»–å›¾æ ‡åº“ï¼ˆreact-iconsã€@mui/icons-material ç­‰ï¼Œç»Ÿä¸€ä½¿ç”¨ lucide-reactï¼‰
- ä»£ç æ–‡ä»¶è¶…è¿‡ 300 è¡Œ
- å‡½æ•°è¶…è¿‡ 50 è¡Œ
- æ­£åœ¨æ‰‹åŠ¨ä¿®æ”¹ package.json ç‰ˆæœ¬å·ï¼ˆå¿…é¡»ä½¿ç”¨ `scripts/bump-version.js`ï¼‰

**åœæ­¢åçš„æ“ä½œ**ï¼š
1. é‡æ–°é˜…è¯»å¯¹åº”çš„è®¾è®¡æ–‡æ¡£
2. ç†è§£ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ¡ˆè¢«æ‹’ç»
3. æ‰¾åˆ°æ–‡æ¡£ä¸­æ¨èçš„æ­£ç¡®æ–¹æ¡ˆ
4. é‡æ–°å®ç°

### ğŸ¯ æ ¸å¿ƒåŸåˆ™è®°å¿†å£è¯€

```
è¯»æ–‡æ¡£ â†’ æŸ¥æ¸…å• â†’ é—® Linus â†’ å†™ä»£ç  â†’ å†æ£€æŸ¥

1. è¯»æ–‡æ¡£ï¼šå¼€å‘å‰å¿…è¯» 4 ä¸ªè®¾è®¡æ–‡æ¡£
2. æŸ¥æ¸…å•ï¼šæ£€æŸ¥åŠŸèƒ½æ¸…å•å’Œç¦æ­¢é¡¹
3. é—® Linusï¼šçœŸé—®é¢˜ï¼Ÿæ›´ç®€å•ï¼Ÿä¼šç ´åå—ï¼Ÿ
4. å†™ä»£ç ï¼š< 50 è¡Œ/å‡½æ•°ï¼Œ< 300 è¡Œ/æ–‡ä»¶
5. å†æ£€æŸ¥ï¼šæäº¤å‰å†æ¬¡æ£€æŸ¥ç¦æ­¢é¡¹
```

### ğŸ“‹ ä¼šè¯æ¢å¤æ¨¡æ¿

**æ–°ä¼šè¯å¼€å§‹æ—¶ï¼Œä½¿ç”¨æ­¤æ¨¡æ¿ï¼š**

```markdown
# ä¼šè¯æ¢å¤æ£€æŸ¥

## 1. æ–‡æ¡£é˜…è¯»ç¡®è®¤
- [ ] docs/éœ€æ±‚åˆ†æ.md - å·²é˜…è¯»ï¼Œç†è§£æ‹’ç»çš„éœ€æ±‚
- [ ] docs/åŠŸèƒ½æ¸…å•.md - å·²é˜…è¯»ï¼Œç¡®è®¤åŠŸèƒ½è¾¹ç•Œ
- [ ] docs/æŠ€æœ¯é€‰å‹.md - å·²é˜…è¯»ï¼Œç¡®è®¤æŠ€æœ¯çº¦æŸ
- [ ] docs/æŠ€æœ¯æ¶æ„.md - å·²é˜…è¯»ï¼Œç†è§£æ¨¡å—è®¾è®¡

## 2. å½“å‰ä»»åŠ¡ç¡®è®¤
- ä»»åŠ¡ï¼š[æè¿°å½“å‰ä»»åŠ¡]
- åŠŸèƒ½æ¸…å•ä½ç½®ï¼š[å¼•ç”¨æ–‡æ¡£ç« èŠ‚]
- å®ç°ä¾æ®ï¼š[å¼•ç”¨æ¶æ„æ–‡æ¡£]

## 3. ç¦æ­¢é¡¹æ£€æŸ¥
- [ ] ä¸ä½¿ç”¨ fs-extra
- [ ] ä¸ä½¿ç”¨ dotenv
- [ ] ä¸åˆ†ç¦»é…ç½®æ–‡ä»¶
- [ ] ä¸åšæŠ½è±¡å†™å…¥å±‚
- [ ] ä¸åš Electron èƒ¶æ°´å±‚
- [ ] ä¸å®ç° validate/backup/restore
- [ ] ä¸ä½¿ç”¨å¼‚æ­¥ I/Oï¼ˆé…ç½®è¯»å†™ï¼‰
- [ ] ä¸ä½¿ç”¨çŠ¶æ€ç®¡ç†åº“
- [ ] ä¸ä½¿ç”¨å…¶ä»–å›¾æ ‡åº“ï¼ˆç»Ÿä¸€ä½¿ç”¨ lucide-reactï¼‰
- [ ] ä¸æ‰‹åŠ¨ä¿®æ”¹ç‰ˆæœ¬å·ï¼ˆå¿…é¡»ä½¿ç”¨ `scripts/bump-version.js`ï¼‰

## 4. å¼€å§‹å¼€å‘
âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼Œå¼€å§‹ç¼–ç 
```

---

## å‚è€ƒæ–‡æ¡£

**å¿…è¯»æ–‡æ¡£**ï¼ˆå¼€å‘å‰å¼ºåˆ¶é˜…è¯»ï¼‰ï¼š
1. **éœ€æ±‚åˆ†æ**ï¼š`docs/éœ€æ±‚åˆ†æ.md` - ç†è§£æ ¸å¿ƒé—®é¢˜å’Œæ‹’ç»çš„éœ€æ±‚
2. **åŠŸèƒ½æ¸…å•**ï¼š`docs/åŠŸèƒ½æ¸…å•.md` - ç¡®è®¤åŠŸèƒ½èŒƒå›´å’Œç¦æ­¢é¡¹
3. **æŠ€æœ¯é€‰å‹**ï¼š`docs/æŠ€æœ¯é€‰å‹.md` - ç¡®è®¤æŠ€æœ¯æ ˆå’Œæ‹’ç»é¡¹
4. **æŠ€æœ¯æ¶æ„**ï¼š`docs/æŠ€æœ¯æ¶æ„.md` - ç†è§£æ¨¡å—è®¾è®¡å’Œæ•°æ®æµ

**å¿«é€Ÿç´¢å¼•**ï¼š
- æ‹’ç»çš„ä¾èµ–ï¼š`docs/æŠ€æœ¯é€‰å‹.md:755-765`
- æ‹’ç»çš„æ¶æ„ï¼š`docs/æŠ€æœ¯é€‰å‹.md:767-774`
- æ‹’ç»çš„éœ€æ±‚ï¼š`docs/éœ€æ±‚åˆ†æ.md:38-100`
- ä¸éœ€è¦çš„åŠŸèƒ½ï¼š`docs/åŠŸèƒ½æ¸…å•.md:44-54`

## æ ¸å¿ƒä»·å€¼è§‚

1. **ç®€æ´èƒœäºå¤æ‚**ï¼šå¦‚æœä»£ç è¶…è¿‡ 3 å±‚ç¼©è¿›ï¼Œé‡æ–°è®¾è®¡
2. **æ•°æ®ç»“æ„ä¼˜å…ˆ**ï¼šå…ˆè®¾è®¡æ•°æ®ï¼Œä»£ç è‡ªç„¶ç®€æ´
3. **é›¶ç ´åæ€§**ï¼šæ°¸è¿œä¸ç ´åç”¨æˆ·ç°æœ‰é…ç½®
4. **å®ç”¨ä¸»ä¹‰**ï¼šè§£å†³å½“å‰é—®é¢˜ï¼Œä¸ä¸ºæœªæ¥è¿‡åº¦è®¾è®¡
5. **ç›´æ¥ç¡¬ç¼–ç **ï¼š2 ä¸ªå·¥å…·ä¸éœ€è¦æŠ½è±¡å±‚
6. **å¿ å®äºæ–‡æ¡£**ï¼šæ‰€æœ‰å†³ç­–å¿…é¡»åœ¨è®¾è®¡æ–‡æ¡£ä¸­æœ‰ä¾æ®

---

**æœ€åæé†’**ï¼š

1. **å¼€å‘å‰å¿…è¯»æ–‡æ¡£**ï¼šä¸è¯»æ–‡æ¡£ = éœ€æ±‚åç§»çš„å¼€å§‹
2. **æ¯ä¸ªå†³ç­–æŸ¥æ–‡æ¡£**ï¼šå¦‚æœæ–‡æ¡£ä¸­æ‹’ç»äº†ï¼Œå°±ä¸è¦åš
3. **ä»£ç æäº¤å‰è‡ªæ£€**ï¼šæ£€æŸ¥æ˜¯å¦è¿åç¦æ­¢é¡¹
4. **ä¼šè¯å‹ç¼©åé‡è¯»**ï¼šæ¢å¤ä¸Šä¸‹æ–‡ï¼Œé˜²æ­¢åç§»
5. **å‘ç°è¿åç«‹å³åœæ­¢**ï¼šé‡è¯»æ–‡æ¡£ï¼Œæ‰¾æ­£ç¡®æ–¹æ¡ˆ

**å¦‚æœå‘ç°è‡ªå·±åœ¨å†™å¤æ‚çš„æŠ½è±¡å±‚ã€å·¥å‚æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ï¼Œæˆ–è€…å¼•å…¥è¢«æ‹’ç»çš„ä¾èµ–ï¼Œç«‹å³åœæ­¢ï¼Œé‡æ–°é˜…è¯»è®¾è®¡æ–‡æ¡£ã€‚è¿™ä¸ªå·¥å…·çš„æœ¬è´¨æ˜¯"æ–‡ä»¶å†…å®¹æ›¿æ¢å™¨"ï¼Œä¸æ˜¯ä¼ä¸šçº§æ¡†æ¶ã€‚**
